<view class="chat-container"><scroll-view class="message-list" scroll-y="true" scroll-top="{{scrollTop}}"><block wx:for="{{messages}}" wx:for-item="message" wx:for-index="index" wx:key="index"><view class="{{['message-item',message.type]}}"><view class="avatar"><image src="{{message.type==='user'?'/static/default-avatar.png':'/static/tabs/assistant.png'}}" mode="aspectFill"></image></view><view class="message-content"><text>{{message.content}}</text></view></view></block></scroll-view><view class="input-area"><input class="message-input" type="text" placeholder="请输入您的问题..." data-event-opts="{{[['confirm',[['sendMessage',['$event']]]],['input',[['__set_model',['','inputMessage','$event',[]]]]]]}}" value="{{inputMessage}}" bindconfirm="__e" bindinput="__e"/><button data-event-opts="{{[['tap',[['sendMessage',['$event']]]]]}}" class="send-btn" bindtap="__e">发送</button></view></view>