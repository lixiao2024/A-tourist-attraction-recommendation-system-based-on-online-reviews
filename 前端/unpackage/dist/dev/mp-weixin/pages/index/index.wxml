<view class="page-container"><view class="search-wrapper"><uni-icons vue-id="8dd740cc-1" type="search" size="20" color="#999" bind:__l="__l"></uni-icons><input class="search-bar" type="search" placeholder="搜索评论" placeholder-class="placeholder-style"/></view><scroll-view class="comment-scroll" scroll-y="{{true}}" show-scrollbar="{{false}}" refresher-enabled="{{true}}" data-event-opts="{{[['scrolltolower',[['loadMore',['$event']]]],['refresherrefresh',[['refreshComments',['$event']]]]]}}" bindscrolltolower="__e" bindrefresherrefresh="__e"><view class="comment-list"><block wx:for="{{$root.l0}}" wx:for-item="comment" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['navigateToDetail',['$0'],[[['comments','id',comment.$orig.id,'id']]]]]]]}}" class="comment-item" bindtap="__e"><view class="comment-left"><image class="avatar" src="{{comment.$orig.avatar||'/static/default-avatar.png'}}" mode="aspectFill" data-event-opts="{{[['error',[['e0',['$event']]]]]}}" data-event-params="{{({comment:comment.$orig})}}" binderror="__e"></image></view><view class="comment-right"><text class="nickname">{{comment.$orig.nickname}}</text><text class="publish-time">{{comment.$orig.publishTime}}</text><view class="content-box"><text data-event-opts="{{[['tap',[['toggleExpand',['$0'],[[['comments','id',comment.$orig.id]]]]]]]}}" class="{{['content-text',(comment.$orig.expanded)?'expanded':'']}}" bindtap="__e">{{comment.$orig.content}}</text><block wx:if="{{comment.m0}}"><view class="expand-control"><block wx:if="{{!comment.$orig.expanded}}"><text data-event-opts="{{[['tap',[['toggleExpand',['$0'],[[['comments','id',comment.$orig.id]]]]]]]}}" class="expand-btn" catchtap="__e">展开</text></block><block wx:else><text data-event-opts="{{[['tap',[['toggleExpand',['$0'],[[['comments','id',comment.$orig.id]]]]]]]}}" class="collapse-btn" catchtap="__e">收起</text></block></view></block></view><view class="interaction-bar"><button data-event-opts="{{[['tap',[['toggleLike',['$0'],[[['comments','id',comment.$orig.id,'id']]]]]]]}}" class="{{['action-btn','like-btn',(comment.$orig.isLiked)?'active':'']}}" bindtap="__e"><text class="iconfont icon-like">♥</text><block wx:if="{{comment.$orig.likeCount>0}}"><text class="count">{{comment.$orig.likeCount}}</text></block></button><button data-event-opts="{{[['tap',[['showCommentInput',['$0'],[[['comments','id',comment.$orig.id,'id']]]]]]]}}" class="action-btn comment-btn" bindtap="__e"><text class="iconfont icon-comment">💬</text><block wx:if="{{comment.$orig.commentCount>0}}"><text class="count">{{comment.$orig.commentCount}}</text></block></button><button data-event-opts="{{[['tap',[['shareComment',['$0'],[[['comments','id',comment.$orig.id]]]]]]]}}" class="action-btn share-btn" bindtap="__e"><text class="iconfont icon-share">↗</text></button></view></view></view></block></view></scroll-view></view>