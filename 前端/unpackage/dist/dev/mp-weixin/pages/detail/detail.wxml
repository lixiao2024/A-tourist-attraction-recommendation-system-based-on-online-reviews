<view class="detail-container"><scroll-view class="main-comment" scroll-y="{{true}}"><view class="comment-card"><image class="avatar" src="{{detail.avatar}}" mode="aspectFill"></image><view class="content-box"><text class="nickname">{{detail.nickname}}</text><text class="publish-time">{{detail.publishTime}}</text><text class="content-text">{{detail.content}}</text><view class="interaction-bar"><button data-event-opts="{{[['tap',[['toggleLike',['$event']]]]]}}" class="{{['action-btn','like-btn',(detail.isLiked)?'active':'']}}" bindtap="__e"><text class="iconfont icon-like">♥</text><block wx:if="{{detail.likeCount>0}}"><text class="count">{{detail.likeCount}}</text></block></button><button data-event-opts="{{[['tap',[['showCommentInput',['$event']]]]]}}" class="action-btn comment-btn" bindtap="__e"><text class="iconfont icon-comment">💬</text><block wx:if="{{detail.commentCount>0}}"><text class="count">{{detail.commentCount}}</text></block></button><button data-event-opts="{{[['tap',[['toggleCollect',['$event']]]]]}}" class="{{['action-btn','collect-btn',(detail.isCollected)?'active':'']}}" bindtap="__e"><text class="iconfont icon-star">★</text><block wx:if="{{detail.collectCount>0}}"><text class="count">{{detail.collectCount}}</text></block></button><button data-event-opts="{{[['tap',[['toggleFollow',['$event']]]]]}}" class="{{['action-btn','follow-btn',(detail.isFollowed)?'active':'']}}" bindtap="__e"><text class="iconfont icon-follow">+</text></button></view></view></view></scroll-view><scroll-view class="reply-list" scroll-y="{{true}}" data-event-opts="{{[['scrolltolower',[['onScrollToLower',['$event']]]]]}}" bindscrolltolower="__e"><block wx:for="{{replies}}" wx:for-item="reply" wx:for-index="__i0__" wx:key="id"><view class="reply-item"><image class="reply-avatar" src="{{reply.avatar}}" mode="aspectFill"></image><view class="reply-content"><text class="reply-nickname">{{reply.nickname}}</text><text class="reply-text">{{reply.content}}</text><text class="reply-time">{{reply.publishTime}}</text></view></view></block></scroll-view><block wx:if="{{showCommentBox}}"><view class="comment-input-area"><input class="comment-input" placeholder="写下你的评论..." focus="{{true}}" confirm-type="send" data-event-opts="{{[['confirm',[['submitComment',['$event']]]],['input',[['__set_model',['','replyContent','$event',[]]]]]]}}" value="{{replyContent}}" bindconfirm="__e" bindinput="__e"/><button data-event-opts="{{[['tap',[['submitComment',['$event']]]]]}}" class="send-btn" bindtap="__e">发送</button></view></block></view>